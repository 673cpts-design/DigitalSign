<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loading...</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background: #000;
            overflow: hidden;
        }

        #frame {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

    <!-- Load text file inside an iframe -->
    <iframe id="frame" src="about:blank"></iframe>

    <script>
        const frame = document.getElementById("frame");

        function loadLog() {
            // Reload text file into iframe each second
            frame.src = "script-output.txt?ts=" + Date.now();

            // After it loads, apply terminal CSS
            frame.onload = () => {
                try {
                    const doc = frame.contentDocument || frame.contentWindow.document;

                    // Wrap text content in styled PRE block
                    const rawText = doc.body.innerText;

                    doc.body.innerHTML = `
                        <pre style="
                            margin:0;
                            padding:20px;
                            background:#000;
                            color:#00ff00;
                            font-family: Consolas, 'Courier New', monospace;
                            font-size:26px;
                            line-height:1.2;
                            white-space:pre-wrap;
                            word-wrap:break-word;
                        ">${rawText}</pre>
                    `;
                } catch (e) {
                    // Kiosk-safe silent fail
                }
            };
        }

        setInterval(loadLog, 1000);
        loadLog();
    </script>

</body>
</html>
